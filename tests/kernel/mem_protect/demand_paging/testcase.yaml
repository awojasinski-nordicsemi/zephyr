common:
  ignore_faults: true
tests:
  kernel.demand_paging:
    tags:
      - kernel
      - mmu
      - demand_paging
    platform_allow: qemu_x86_tiny
    extra_configs:
      - CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0
  kernel.demand_paging.custom_flash:
    platform_allow: qemu_x86_tiny
    extra_args:
      - OVERLAY_CONFIG="boards/qemu_x86_tiny_custom_flash.conf"
      - DTC_OVERLAY_FILE='boards/qemu_x86_tiny_custom_flash.overlay'
    extra_configs:
      - CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0
  kernel.demand_paging.timing_funcs:
    tags:
      - kernel
      - mmu
      - demand_paging
    platform_allow: qemu_x86_tiny
    extra_configs:
      - CONFIG_DEMAND_PAGING_STATS_USING_TIMING_FUNCTIONS=y
      - CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0
