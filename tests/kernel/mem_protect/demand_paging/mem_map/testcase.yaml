common:
  ignore_faults: true
tests:
  kernel.demand_paging:
    tags:
      - kernel
      - mmu
      - demand_paging
    platform_allow:
      - qemu_cortex_a53
      - qemu_x86_tiny
    extra_configs:
      - CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0
  kernel.demand_paging.custom_flash:
    platform_allow:
      - qemu_cortex_a53
      - qemu_x86_tiny
    extra_args:
      - DTC_OVERLAY_FILE='boards/custom_flash.overlay'
    extra_configs:
      - CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0
      - CONFIG_BACKING_STORE_CUSTOM=y
      - CONFIG_FLASH=y
  kernel.demand_paging.timing_funcs:
    tags:
      - kernel
      - mmu
      - demand_paging
    platform_allow: qemu_x86_tiny
    extra_configs:
      - CONFIG_DEMAND_PAGING_STATS_USING_TIMING_FUNCTIONS=y
      - CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0
